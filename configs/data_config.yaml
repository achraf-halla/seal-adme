# =============================================================================
# SEAL-ADME Data Configuration
# =============================================================================
# Configuration for the data preparation pipeline.
# Used by: scripts/prepare_data.py

# -----------------------------------------------------------------------------
# TDC Dataset Configuration
# -----------------------------------------------------------------------------
tdc:
  # Pretraining tasks (mostly classification)
  pretrain_tasks:
    # Absorption
    - hia_hou
    - pgp_broccatelli
    - bioavailability_ma
    # Distribution
    - bbb_martins
    - ppbr_az
    - vdss_lombardo
    # Metabolism (CYP enzymes)
    - cyp2d6_veith
    - cyp3a4_veith
    - cyp2c9_veith
    - cyp2d6_substrate_carbonmangels
    - cyp3a4_substrate_carbonmangels
    - cyp2c9_substrate_carbonmangels
    # Excretion
    - clearance_microsome_az
    - clearance_hepatocyte_az
    # Physicochemical
    - lipophilicity_astrazeneca
  
  # Finetuning tasks (regression)
  finetune_tasks:
    - solubility_aqsoldb
    - caco2_wang
    - half_life_obach

# -----------------------------------------------------------------------------
# ChEMBL Aurora Kinase Configuration
# -----------------------------------------------------------------------------
chembl:
  aurora_filters:
    # Minimum number of data points per target to include
    min_target_count: 200
    # Required assay organism
    organism: "Homo sapiens"
    # Assay type: B = binding, F = functional
    assay_type: "B"
    # Require pChEMBL value (standardized potency)
    require_pchembl: true

# -----------------------------------------------------------------------------
# Preprocessing Configuration
# -----------------------------------------------------------------------------
preprocessing:
  # Preserve stereochemistry in canonical SMILES
  isomeric_smiles: true
  # Remove molecules with conflicting labels
  deduplicate: true
  # Drop molecules with invalid SMILES
  drop_invalid: true

# -----------------------------------------------------------------------------
# Train/Valid/Test Splitting
# -----------------------------------------------------------------------------
splitting:
  # Method: "scaffold" (Murcko scaffold) or "random"
  method: scaffold
  # Split ratios
  train_ratio: 0.8
  valid_ratio: 0.1
  # test_ratio is computed as 1 - train_ratio - valid_ratio
  # Random seed for reproducibility
  seed: 42

# -----------------------------------------------------------------------------
# Graph Featurization
# -----------------------------------------------------------------------------
graph:
  # Atom feature configuration
  atom_features:
    # Include degree, charge, aromaticity, hybridization, etc.
    include_optional: true
    # Include atomic number, mass, electronegativity
    include_numeric: true
    # Compute and include Gasteiger partial charges
    include_gasteiger: true
  
  # Store fragment metadata in graph objects
  # Required for SEAL interpretability
  store_fragments: true

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
logging:
  level: INFO
  # Uncomment to log to file
  # file: logs/data_pipeline.log
